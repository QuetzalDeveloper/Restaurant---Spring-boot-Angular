@if (isOpen) {
  <div class="modal-overlay" (click)="cerrar()">
    <div class="modal-content animate-pop" (click)="$event.stopPropagation()">

      <div class="modal-header">
        <h2>Nueva Categoría</h2>
      </div>

      <form #categoriaForm="ngForm" (ngSubmit)="guardar()" class="modal-form">

        <div class="form-group">
          <label>Nombre de la categoría*</label>
          <input type="text" [(ngModel)]="nuevaCategoria.name" name="nombre"
                 #nombre="ngModel" required maxlength="70"
                 placeholder="Ej. Sopas" class="custom-input"
                 [class.input-error]="nombre.invalid && nombre.touched">
          @if (nombre.invalid && nombre.touched) {
            <span class="error-text">El nombre es obligatorio (máx 70 carac.)</span>
          }
        </div>

        <div class="form-group switch-inline">
          <label>Estado de la categoría (Activo/Inactivo)</label>
          <label class="switch">
            <input type="checkbox" [(ngModel)]="nuevaCategoria.active" name="activo">
            <span class="slider round"></span>
          </label>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn-cancel" (click)="cerrar()">Cancelar</button>
          <button type="submit" class="btn-save" [disabled]="categoriaForm.invalid">
            <i class="fas fa-save"></i> Guardar Categoría
          </button>
        </div>

      </form>
    </div>
  </div>
}

